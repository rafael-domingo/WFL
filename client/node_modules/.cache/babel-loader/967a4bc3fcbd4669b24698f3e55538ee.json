{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rafaeldomingo/Documents/GitHub/WFL/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/rafaeldomingo/Documents/GitHub/WFL/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/rafaeldomingo/Documents/GitHub/WFL/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./restaurantDetail.css';import React from'react';import Rating from'../../elements/Rating';import Price from'../../elements/Price';import RestaurantInfo from'../../elements/RestaurantInfo';import Yelp from'../../elements/Yelp';import Description from'../../elements/Description';import Title from'../../elements/Title';import back from'../../assets/business/back.png';import{YelpAPI}from'../../util/YelpAPI';import{useParams,Link}from\"react-router-dom\";import ReactLoading from'react-loading';import{motion,AnimatePresence}from\"framer-motion\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function RestaurantDetail(_ref){var restaurant=_ref.restaurant,location=_ref.location;var cuisine=useParams().cuisine;var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),detail=_React$useState2[0],setDetail=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),cheap=_React$useState4[0],setCheap=_React$useState4[1];var _React$useState5=React.useState(),_React$useState6=_slicedToArray(_React$useState5,2),high=_React$useState6[0],setHigh=_React$useState6[1];// Fetch API data on first render\nReact.useEffect(function(){console.log(location);var restaurantInfo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return YelpAPI.search(cuisine,'review_count',location);case 2:response=_context.sent;console.log(response);setDetail(response);case 5:case\"end\":return _context.stop();}}},_callee);}));return function restaurantInfo(){return _ref2.apply(this,arguments);};}();var high=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var highResponse;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return YelpAPI.cheap(cuisine,'rating',location);case 2:highResponse=_context2.sent;console.log(highResponse);setHigh(highResponse);case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function high(){return _ref3.apply(this,arguments);};}();var cheap=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var cheapResponse;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return YelpAPI.cheap(cuisine,'best_match',location);case 2:cheapResponse=_context3.sent;console.log(cheapResponse);setCheap(cheapResponse);case 5:case\"end\":return _context3.stop();}}},_callee3);}));return function cheap(){return _ref4.apply(this,arguments);};}();cheap();high();restaurantInfo();},[0]);var variants={initial:{opacity:0,x:'100%'},enter:{opacity:1,x:0},exit:{opacity:0,x:'100%',transition:{duration:1.5}}};if(detail&&cheap&&high){return/*#__PURE__*/_jsx(AnimatePresence,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"components-restaurantcontainer\",children:[/*#__PURE__*/_jsx(Title,{text:cuisine}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(motion.div,{className:\"components-backbutton\",whileHover:{backgroundColor:'#E0BE2F',boxShadow:'0px 0px 0px 0px rgba(0,0,0,0.5);',transition:'0.3s ease'},animate:{rotate:[180,0],opacity:[0,1]},children:/*#__PURE__*/_jsx(\"img\",{src:back})})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'flex-start',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(motion.div,{initial:\"initial\",animate:\"enter\",transition:{duration:0.5},exit:\"exit\",variants:variants,className:\"components-motion\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"components-restaurantdetail\",children:[/*#__PURE__*/_jsx(Description,{description:\"popular\"}),/*#__PURE__*/_jsx(\"img\",{src:detail.image_url,style:{width:'100%'}}),/*#__PURE__*/_jsx(Rating,{rating:detail.rating}),/*#__PURE__*/_jsx(Price,{price:detail.price}),/*#__PURE__*/_jsx(RestaurantInfo,{name:detail.name,address:detail.location.display_address,phone:detail.phone}),/*#__PURE__*/_jsx(Yelp,{link:detail.url})]})}),/*#__PURE__*/_jsx(motion.div,{initial:\"initial\",animate:\"enter\",transition:{duration:0.5},exit:\"exit\",variants:variants,className:\"components-motion\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"components-restaurantdetail\",children:[/*#__PURE__*/_jsx(Description,{description:\"cheap\"}),/*#__PURE__*/_jsx(\"img\",{src:cheap.image_url,style:{width:'100%'}}),/*#__PURE__*/_jsx(Rating,{rating:cheap.rating}),/*#__PURE__*/_jsx(Price,{price:cheap.price}),/*#__PURE__*/_jsx(RestaurantInfo,{name:cheap.name,address:cheap.location.display_address,phone:cheap.phone}),/*#__PURE__*/_jsx(Yelp,{link:cheap.url})]})}),/*#__PURE__*/_jsx(motion.div,{initial:\"initial\",animate:\"enter\",transition:{duration:0.5},exit:\"exit\",variants:variants,className:\"components-motion\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"components-restaurantdetail\",children:[/*#__PURE__*/_jsx(Description,{description:\"highly rated\"}),/*#__PURE__*/_jsx(\"img\",{src:high.image_url,style:{width:'100%'}}),/*#__PURE__*/_jsx(Rating,{rating:high.rating}),/*#__PURE__*/_jsx(Price,{price:high.price}),/*#__PURE__*/_jsx(RestaurantInfo,{name:high.name,address:high.location.display_address,phone:high.phone}),/*#__PURE__*/_jsx(Yelp,{link:high.url})]})})]})]})});}else{return/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'100%',display:'flex',justifyContent:'center',alignItems:'center'},children:/*#__PURE__*/_jsx(ReactLoading,{type:'spin',height:'10%',width:'10%'})});}}export default RestaurantDetail;","map":{"version":3,"sources":["/Users/rafaeldomingo/Documents/GitHub/WFL/src/containers/RestaurantDetail/index.js"],"names":["React","Rating","Price","RestaurantInfo","Yelp","Description","Title","back","YelpAPI","useParams","Link","ReactLoading","motion","AnimatePresence","RestaurantDetail","restaurant","location","cuisine","useState","detail","setDetail","cheap","setCheap","high","setHigh","useEffect","console","log","restaurantInfo","search","response","highResponse","cheapResponse","variants","initial","opacity","x","enter","exit","transition","duration","backgroundColor","boxShadow","rotate","display","justifyContent","alignItems","flexWrap","image_url","width","rating","price","name","display_address","phone","url","height"],"mappings":"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","sourcesContent":["import './restaurantDetail.css';\n\nimport React from 'react';\n\nimport Rating from '../../elements/Rating';\nimport Price from '../../elements/Price';\nimport RestaurantInfo from '../../elements/RestaurantInfo';\nimport Yelp from '../../elements/Yelp';\nimport Description from '../../elements/Description';\nimport Title from '../../elements/Title';\nimport back from '../../assets/business/back.png';\n\nimport {YelpAPI} from '../../util/YelpAPI';\n\nimport { useParams, Link } from \"react-router-dom\";\nimport ReactLoading from 'react-loading';\nimport { motion, AnimatePresence } from \"framer-motion\";\n\n\nfunction RestaurantDetail({restaurant, location}) {\n    const cuisine = useParams().cuisine;\n    const [detail, setDetail] = React.useState();\n    const [cheap, setCheap] = React.useState();\n    const [high, setHigh] = React.useState();\n    \n    // Fetch API data on first render\n    React.useEffect(() => {\n        console.log(location);\n        const restaurantInfo = async() => {\n            var response = await YelpAPI.search(cuisine, 'review_count', location);\n            console.log(response);\n            setDetail(response);\n        };    \n\n        const high = async() => {\n            const highResponse = await YelpAPI.cheap(cuisine, 'rating', location);\n            console.log(highResponse);\n            setHigh(highResponse);\n        }\n\n        const cheap = async() => {\n            const cheapResponse = await YelpAPI.cheap(cuisine, 'best_match', location);\n            console.log(cheapResponse);\n            setCheap(cheapResponse);\n\n        }\n        cheap();\n        high();\n        restaurantInfo();\n    }, [0])\n \n    \n    const variants = {\n        initial: { opacity: 0, x: '100%'},\n        enter: { opacity: 1, x: 0 },\n        exit: { opacity: 0, x: '100%', transition: {duration: 1.5}}\n    }\n\n    if (detail && cheap && high) {\n        return (\n            <AnimatePresence>\n                <div className=\"components-restaurantcontainer\">\n                    <Title text={cuisine} />\n                    <Link to=\"/\">\n                        <motion.div\n                        className=\"components-backbutton\"\n                        whileHover={{\n                            backgroundColor: '#E0BE2F',\n                            boxShadow: '0px 0px 0px 0px rgba(0,0,0,0.5);',\n                            transition: '0.3s ease'\n                        }}\n                        animate={{\n                            rotate: [180, 0],\n                            opacity: [0, 1]\n                        }}>\n                            <img src={back}/>                        \n                        </motion.div>\n                    </Link>\n                        <div style={{display: 'flex', justifyContent: 'center', alignItems: 'flex-start', flexWrap: 'wrap'}}>\n                        <motion.div\n                            initial = \"initial\"\n                            animate=\"enter\"\n                            transition={{ duration: 0.5 }}\n                            exit=\"exit\"\n                            variants={variants}\n                            className=\"components-motion\">\n                                <div className=\"components-restaurantdetail\">\n                                    <Description description=\"popular\" />\n                                    <img src={detail.image_url} style={{ width: '100%'}}/>\n                                    <Rating rating={detail.rating} />\n                                    <Price price={detail.price} />\n                                    <RestaurantInfo name={detail.name} address={detail.location.display_address} phone={detail.phone} />\n                                    <Yelp link={detail.url} />\n                                </div>\n                            </motion.div>\n                            <motion.div\n                            initial = \"initial\"\n                            animate=\"enter\"\n                            transition={{ duration: 0.5 }}\n                            exit=\"exit\"\n                            variants={variants}\n                            className=\"components-motion\">\n                                <div className=\"components-restaurantdetail\">\n                                    <Description description=\"cheap\" />\n                                    <img src={cheap.image_url} style={{ width: '100%'}}/>\n                                    <Rating rating={cheap.rating} />\n                                    <Price price={cheap.price} />\n                                    <RestaurantInfo name={cheap.name} address={cheap.location.display_address} phone={cheap.phone} />\n                                    <Yelp link={cheap.url} />\n                                </div>\n                            </motion.div>\n                            <motion.div\n                            initial = \"initial\"\n                            animate=\"enter\"\n                            transition={{ duration: 0.5 }}\n                            exit=\"exit\"\n                            variants={variants}\n                            className=\"components-motion\">\n                                <div className=\"components-restaurantdetail\">\n                                    <Description description=\"highly rated\" />\n                                    <img src={high.image_url} style={{ width: '100%'}}/>\n                                    <Rating rating={high.rating} />\n                                    <Price price={high.price} />\n                                    <RestaurantInfo name={high.name} address={high.location.display_address} phone={high.phone} />\n                                    <Yelp link={high.url} />\n                                </div>\n                            </motion.div>\n                        </div>\n               \n                </div>\n                \n            </AnimatePresence>\n        )\n    } else {\n        return (\n            <div style={{width: '100%', height: '100%', display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\n                <ReactLoading type={'spin'} height={'10%'} width={'10%'} />\n            </div>\n        )\n    }\n \n}\n\nexport default RestaurantDetail;"]},"metadata":{},"sourceType":"module"}